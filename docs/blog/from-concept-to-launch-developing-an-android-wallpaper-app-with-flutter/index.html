<script>
	// It's best to inline this in `head` to avoid FOUC (flash of unstyled content) when changing pages or themes
	if (
	  localStorage.getItem('color-theme') === 'dark' ||
	  (!('color-theme' in localStorage) &&
		window.matchMedia('(prefers-color-scheme: dark)').matches)
	) {
	  document.documentElement.classList.add('dark');
	} else {
	  document.documentElement.classList.remove('dark');
	}
  </script>

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.ab550426.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/fa.95b16411.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/4.e956f1fb.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.ff4a89b7.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.97c8b5c4.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/singletons.8d6f1fce.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.f08e7f04.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/paths.06bbe744.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.b29e0e1c.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.9ebb7127.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.66f5a943.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.4b8dde1c.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/fa.2329cfa5.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.e870d26e.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/4.75b35614.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/cover.2889fc35.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.7a3d2515.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.73062db0.js"><title>From Concept to Launch: Developing an Android Wallpaper App with Flutter</title><!-- HEAD_svelte-fgg0v1_START --><script async src="https://www.googletagmanager.com/gtag/js?id=G-WVR6SWQH0Z" data-svelte-h="svelte-1thcm6j"></script><!-- HEAD_svelte-fgg0v1_END --><!-- HEAD_svelte-1n6hdy6_START --><meta property="og:site_name" content="RDS's Blog"><meta property="og:title" content="From Concept to Launch: Developing an Android Wallpaper App with Flutter"><meta property="og:type" content="article"><meta property="og:description" content="This blog post gives a complete walkthrough on how to build an Android Wallpaper App with Flutter and publish it in Play Store."><meta property="og:image" content="https://i.postimg.cc/Bb1N9bB7/feature.jpg"><meta property="article:published_time" content="2024-06-10T00:00:00+05:30"><meta name="twitter:card" content="summary_large_image"><!-- HEAD_svelte-1n6hdy6_END -->
	</head>
	<body data-sveltekit-preload-data="hover" 
		class="dark:bg-[#121212] dark:border-gray-50 flex flex-col min-h-screen transition-colors duration-500"
	>
		<div style="display: contents">   <nav class="dark:bg-[#121212] transition-colors duration-0"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="relative flex h-16 items-center justify-between"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"> <button type="button" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 focus:outline-none" aria-controls="mobile-menu" aria-expanded="false" data-svelte-h="svelte-1pv4qi8"><span class="absolute -inset-0.5"></span> <span class="sr-only">Open Menu</span>  <svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg>  <svg class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"><div class="flex flex-shrink-0 items-center" data-svelte-h="svelte-frp9wu"><a href="/"><img class="h-8 w-auto" src="/_app/immutable/assets/logo.33e33a6c.png" alt="Website Logo"></a></div> <div class="hidden sm:ml-6 sm:block"> <div class="flex space-x-4"> <a href="/" target="_self" class="text-gray-400 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"> Portfolio</div> </a> <a href="/blog/" target="_self" class="text-gray-700 dark:text-[#b3b3b3] underline underline-offset-4 decoration-2 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"> Blog</div> </a> <a href="/gallery/" target="_self" class="text-gray-400 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"> Gallery</div> </a> <a href="/_app/immutable/assets/resume.51e97c55.pdf" target="_blank" class="text-gray-400 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"><svg class="svelte-fa mr-2 svelte-1cj2gr0" style="height:1em;font-size:.75em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> Resume</div> </a>  <button id="theme-toggle" type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-full text-sm p-2.5"><svg id="theme-toggle-dark-icon" class="svelte-fa hidden svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 384 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(192 256)" transform-origin="96 0"><g transform="translate(0,0) scale(1,1)"><path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" fill="gray" transform="translate(-192 -256)"></path></g></g></svg> <svg id="theme-toggle-light-icon" class="svelte-fa hidden svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z" fill="yellow" transform="translate(-256 -256)"></path></g></g></svg></button></div></div></div></div></div>  <div class="sm:hidden hidden" id="mobile-menu"><div class="space-y-1 px-2 pb-3 pt-2"><a href="/" target="_self" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-400"><div class="flex flex-row items-center"> Portfolio</div> </a><a href="/blog/" target="_self" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-700"><div class="flex flex-row items-center"> Blog</div> </a><a href="/gallery/" target="_self" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-400"><div class="flex flex-row items-center"> Gallery</div> </a><a href="/_app/immutable/assets/resume.51e97c55.pdf" target="_blank" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-400"><div class="flex flex-row items-center"><svg class="svelte-fa mr-2 svelte-1cj2gr0" style="height:1em;font-size:.75em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> Resume</div> </a></div></div></nav> <div class="container mx-auto m-4 overscroll-none justify-center items-center flex relative"> <div class="flex flex-col max-w-2xl max-[600px]:p-10"><h1 class="text-4xl font-bold text-gray-900 place-self-start dark:text-neutral-100">From Concept to Launch: Developing an Android Wallpaper App with Flutter</h1> <p class="text-xl my-1 text-neutral-500">This blog post gives a complete walkthrough on how to build an Android Wallpaper App with Flutter and publish it in Play Store.</p> <div class="flex flex-row"><span class="inline-flex items-center rounded-md bg-blue-50 font-medium text-blue-600 dark:bg-blue-50 dark:text-neutral-800 px-2 py-1 mr-1 my-1 text-xs ring-1 ring-inset ring-gray-500/10">Tutorial</span><span class="inline-flex items-center rounded-md bg-blue-50 font-medium text-blue-600 dark:bg-blue-50 dark:text-neutral-800 px-2 py-1 mr-1 my-1 text-xs ring-1 ring-inset ring-gray-500/10">Android</span><span class="inline-flex items-center rounded-md bg-blue-50 font-medium text-blue-600 dark:bg-blue-50 dark:text-neutral-800 px-2 py-1 mr-1 my-1 text-xs ring-1 ring-inset ring-gray-500/10">Flutter</span></div> <div class="flex flex-row"><small class="text-neutral-500 dark:text-neutral-600 my-1">Jun 10, 2024</small> <span class="text-neutral-700 dark:text-neutral-700 mx-1" data-svelte-h="svelte-10lih0p">Â·</span> <small class="text-neutral-500 dark:text-neutral-600 my-1">9 mins</small></div> <div class="flex flex-col place-items-center"><img class="object-cover rounded-lg py-1" src="https://i.postimg.cc/Bb1N9bB7/feature.jpg" alt="Try it now at <a class=&quot;underline underline-offset-4&quot; href=&quot;https://play.google.com/store/apps/details?id=com.rds.ai.my_wallpaper&quot;>Play Store</a>"> <small class="text-neutral-500 dark:text-neutral-600"><!-- HTML_TAG_START -->Try it now at <a class="underline underline-offset-4" href="https://play.google.com/store/apps/details?id=com.rds.ai.my_wallpaper">Play Store</a><!-- HTML_TAG_END --></small></div> <div class=""><!-- HTML_TAG_START --><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Back in college, I had opened a Google Play Developer&#39;s account. I was motivated to release many Android apps and get few of them to success (more downloads/publicity/etc) but to my surprise, developing Android app is just the first part of the process.The later part of the process involves marketing the app to your social circle/friends/media/news etc to be able to really make it a success. Luckily, one of the apps that I developed with my friends in college did see that success - Naman (but unfortunately Google seemed to have removed it now due to no maintenance).</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Anyway 4 years later, going back to my Google Play Console I got a message in my email that they are going to shutdown my developer account due to inactivity.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose"><img src="https://storage.googleapis.com/support-forums-api/attachment/thread-264043037-10088205505755485415.png" alt="Google Play Account Suspension Warning"></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I did not want to lose the account nor the apps that I already published, so I went ahead to develop and publish a new app to meet with their criteria.</p>
<h1 id="the-idea" class="group text-3xl font-bold mt-4 dark:text-neutral-200">The Idea<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#the-idea">#</a></h1>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I know I wanted to make something small but that can easily be extended by more features. I didn&#39;t want to have frequent releases but there should be a factor that will let users to come to the app. Thinking of different ideas from building an image-gen app, voice-assistant app, news app etc.. I ended up with a wallpaper gallery app. </p>
<h2 id="wallpaper-gallery-app" class="group text-2xl font-bold  mt-4 dark:text-neutral-200">Wallpaper Gallery App<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#wallpaper-gallery-app">#</a></h2>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I wanted the app to be bit engaging and have a way of expanding the given library. So I went ahead with this approach:</p>
<ol class=" space-y-1 list-decimal list-inside" >
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm ">Upload images into hosting service (like <a href="https://postimages.org/" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">postimages</a>, <a href="https://imgbb.com/upload" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">imgbb</a>)</li>
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm ">Create and upload a JSON data file into a remote location that contains links to the thumbnails and original image itself (I created a simple JSON file in the project&#39;s Github repository to store this <a href="https://github.com/rahuldshetty/flutter-wallpaper-app/blob/master/wallpaper_collection/wallpaper_data_v1.json" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">information</a>. This lets me to quickly update my gallery of images in the app without re-deploying or re-publishing).</li>
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm ">App initializes and loads the gallery image data from the remote JSON link.</li>
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm ">Users can set the selected image as their wallpaper.</li>
</ol>
<h1 id="setup" class="group text-3xl font-bold mt-4 dark:text-neutral-200">Setup<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#setup">#</a></h1>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I won&#39;t go in details about the dev environment setup, but make sure to have the following things installed:</p>
<ul class=" space-y-1 list-disc list-inside" >
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm "><a href="https://developer.android.com/studio" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Android Studio with SDK + VM</a> [As of this writing this blog, I&#39;m using Android Studio version JellyFish (2023.3.1 Patch 1)]</li>
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm "><a href="https://docs.flutter.dev/get-started/install" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Flutter</a> [Flutter version used in this tutorial: Flutter 3.22.2]</li>
<li class="text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm "><a href="https://www.java.com/download/manual.jsp" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Java</a> [This is helpful when building the app bundles in order to publish in Play Store]</li>
</ul>
<h1 id="develop-flutter-app" class="group text-3xl font-bold mt-4 dark:text-neutral-200">Develop Flutter App<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#develop-flutter-app">#</a></h1>
<h2 id="project-setup" class="group text-2xl font-bold  mt-4 dark:text-neutral-200">Project Setup<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#project-setup">#</a></h2>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Run the following commands to set up a new flutter project.</p>
<div class="code-block"><pre class="language-bash"><code><span class="token comment"># Make sure flutter has everything setup</span>
flutter doctor

<span class="token comment"># Create flutter project</span>
flutter create <span class="token operator">&lt;</span>project-name<span class="token operator">></span>

<span class="token comment"># Open the project in VSCode (or other favorite editor)</span>
<span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>project-name<span class="token operator">></span>
code <span class="token builtin class-name">.</span></code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">You should have some boilerplate code configured. If you are using VS Code, then you can use it&#39;s great flutter extension to start the app directly on n Android VM. Even though, we don&#39;t really have our Wallpaper app ready we can still go ahead and run the boilerplate code to see if the code is compiling successfully. Once the app launches successfully, you should be able to see a counter app.</p>
<h2 id="writing-your-wallpaper-service" class="group text-2xl font-bold  mt-4 dark:text-neutral-200">Writing your Wallpaper Service<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#writing-your-wallpaper-service">#</a></h2>
<h3 id="adding-dependencies" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Adding dependencies<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#adding-dependencies">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Update <em>pubspec.yaml</em> with the following dependencies. </p>
<div class="code-block"><pre><code># ...

dependencies:
  # ...
  http: ^1.2.1
  cached_network_image: ^3.0.0

# ...</code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Run <code>flutter pub get</code> to download these dependencies in the project.</p>
<h3 id="rewriting-main.dart" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Rewriting main.dart<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#rewriting-main.dart">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">We will remove the default Counter app in <em>main.dart</em> and create something shown below.</p>
<div class="code-block"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_wallpaper/ui/home.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// This widget is the root of your application.</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      debugShowCheckedModeBanner<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'AI Wallpaper Gallery'</span></span><span class="token punctuation">,</span>
      theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>
        colorScheme<span class="token punctuation">:</span> <span class="token class-name">ColorScheme</span><span class="token punctuation">.</span><span class="token function">fromSeed</span><span class="token punctuation">(</span>seedColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>tealAccent<span class="token punctuation">)</span><span class="token punctuation">,</span>
        useMaterial3<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><h3 id="creating-wallpaper-object-and-loader" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Creating Wallpaper Object and Loader<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#creating-wallpaper-object-and-loader">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Now create a folder under your app directory <em>lib/services</em> and create a new dart class-file called <strong>lib/services/wallpaper.dart</strong> for holding your Wallpaper object. </p>
<div class="code-block"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:convert'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http/http.dart'</span></span> <span class="token operator">as</span> http<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:cached_network_image/cached_network_image.dart'</span></span><span class="token punctuation">;</span>

<span class="token comment">// TODO: Update Remote URL for Wallpaper Data with your Link</span>
<span class="token keyword">const</span> <span class="token class-name">String</span> imageWallpeperUrl <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/wallpaper_collection/wallpaper_data_v1.json"</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Wallpaper</span><span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> category<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> namge<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> thumbnailUrl<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> imageUrl<span class="token punctuation">;</span>

  <span class="token class-name">Wallpaper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>category<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>namge<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>thumbnailUrl<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>imageUrl<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">factory</span> <span class="token class-name">Wallpaper</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">></span></span> json<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Wallpaper</span><span class="token punctuation">(</span>
      category<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'category'</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
      namge<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'namge'</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
      thumbnailUrl<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'thumbnailUrl'</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
      imageUrl<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'imageUrl'</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">WallpaperService</span><span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Wallpaper</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">fetchWallpapers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token comment">// Read JSON data from remote location</span>
    <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>imageWallpeperUrl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Load wallpaper data into Object structure</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">></span></span> data <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token class-name">Wallpaper</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Failed to load wallpapers'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><h3 id="implementing-wallpaper-gallery-ui" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Implementing Wallpaper Gallery UI<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#implementing-wallpaper-gallery-ui">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">This will be the home page for our flutter application. We will use a GridView to display the contents of <em>Wallpaper</em> object as they are loaded dynamically during startup. </p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">To do this, let us create a dart component for the UI under the following location <strong>lib/ui/home.dart</strong>.</p>
<div class="code-block"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:cached_network_image/cached_network_image.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_wallpaper/services/wallpaper.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_wallpaper/ui/wallpaper_detail.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomePage</span><span class="token punctuation">></span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_HomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _HomePageState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomePage</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>
  late <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Wallpaper</span><span class="token punctuation">></span><span class="token punctuation">></span></span> futureWallpaper<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    futureWallpaper <span class="token operator">=</span> <span class="token class-name">WallpaperService</span><span class="token punctuation">.</span><span class="token function">fetchWallpapers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'AI Wallpaper Gallery'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">FutureBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Wallpaper</span><span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span>
        future<span class="token punctuation">:</span> futureWallpaper<span class="token punctuation">,</span>
        builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>snapshot<span class="token punctuation">.</span>connectionState <span class="token operator">==</span> <span class="token class-name">ConnectionState</span><span class="token punctuation">.</span>waiting<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>snapshot<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Failed to load Wallpaper data"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Wallpaper</span><span class="token punctuation">></span></span><span class="token operator">?</span> wallpapers <span class="token operator">=</span> snapshot<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">GridView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>
              itemCount<span class="token punctuation">:</span> wallpapers<span class="token operator">?</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
              gridDelegate<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">SliverGridDelegateWithFixedCrossAxisCount</span><span class="token punctuation">(</span>
                crossAxisCount<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                childAspectRatio<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>
                  onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
                      context<span class="token punctuation">,</span> 
                      <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token class-name">WallpaperDetail</span><span class="token punctuation">(</span>wallpapers<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  child<span class="token punctuation">:</span> <span class="token class-name">CachedNetworkImage</span><span class="token punctuation">(</span>
                    imageUrl<span class="token punctuation">:</span> wallpapers<span class="token operator">!</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>thumbnailUrl<span class="token punctuation">,</span>
                    placeholder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> url<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span>
                      <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>
                      width<span class="token punctuation">:</span> <span class="token number">80.0</span><span class="token punctuation">,</span>
                      height<span class="token punctuation">:</span> <span class="token number">80.0</span><span class="token punctuation">,</span>
                      child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">)</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                    errorWidget<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> url<span class="token punctuation">,</span> error<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">const</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    fit<span class="token punctuation">:</span> <span class="token class-name">BoxFit</span><span class="token punctuation">.</span>cover
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><h3 id="opening-up-wallpaper-in-details-screen" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Opening up Wallpaper in Details Screen<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#opening-up-wallpaper-in-details-screen">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Now when the user selects any of the image, we want to redirect them to a details screen from where they can set the image as wallpaper.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Let us create another dart file under the ui component <strong>lib/ui/wallpaper_detail.dart</strong>.</p>
<div class="code-block"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:cached_network_image/cached_network_image.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/services.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_wallpaper/services/wallpaper.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">WallpaperDetail</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">Wallpaper</span> wallpaper<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token class-name">WallpaperDetail</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>wallpaper<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
        resizeToAvoidBottomInset<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        appBar<span class="token punctuation">:</span>
            <span class="token class-name">AppBar</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">wallpaper<span class="token punctuation">.</span>namge</span><span class="token punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">wallpaper<span class="token punctuation">.</span>category</span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        body<span class="token punctuation">:</span> <span class="token class-name">SingleChildScrollView</span> <span class="token punctuation">(</span>child<span class="token punctuation">:</span><span class="token class-name">Center</span><span class="token punctuation">(</span>
            child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
            mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
            crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
            children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
              <span class="token class-name">Center</span><span class="token punctuation">(</span>
                child<span class="token punctuation">:</span> <span class="token class-name">CachedNetworkImage</span><span class="token punctuation">(</span>
                  imageUrl<span class="token punctuation">:</span> wallpaper<span class="token punctuation">.</span>imageUrl<span class="token punctuation">,</span>
                  placeholder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> url<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>
                      <span class="token keyword">const</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  errorWidget<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> url<span class="token punctuation">,</span> error<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">const</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">,</span>
                  fit<span class="token punctuation">:</span> <span class="token class-name">BoxFit</span><span class="token punctuation">.</span>cover<span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
                  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
                    <span class="token comment">// TODO: Set Wallpaper functionality</span>
                   <span class="token punctuation">}</span><span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Set As Wallpaper"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre></div><h3 id="calling-native-kotlin-to-set-device-wallpaper" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Calling native Kotlin to set device wallpaper<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#calling-native-kotlin-to-set-device-wallpaper">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">This part was one of the trickest (at least for me as I was out of touch with Mobile App Dev for more than 5 years). I have built the basics, but now its just left is to take the remote image data and set it as wallpaper on the Android device.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">My first thought was to see if there are any pre-existing packages/library that does it out-of-the-box in flutter. I hoped onto flutter&#39;s <a href="https://pub.dev/" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">pub.dev</a> and looked for <a href="https://pub.dev/packages?q=wallpaper" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">wallpaper</a> related package. Most of the libraries that I tried were either outdated or not maintained. I had no choice but to take the difficult route which involved going through the sacred texts (<a href="https://developer.android.com/guide" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Android Documentation</a>). </p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I had a breakthrough after a little bit of Googling and OpenAIing/GPTing. The solution involved building the <em>setWallpaper</em> service in native android code (Kotlin/Java) and then have the method called through channels.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose"><img src="https://i.redd.it/ffavl8dphwt41.jpg" alt="Welp"></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">In the <strong>wallpaper_detail.dart</strong> component, add the following changes to call Koltin native code.</p>
<div class="code-block"><pre class="language-dart"><code><span class="token comment">// ....</span>
<span class="token keyword">const</span> platform <span class="token operator">=</span> <span class="token class-name">MethodChannel</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'com.example.my_wallpaper/setWallpaper'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Inside "class WallpaperDetail..." </span>
<span class="token comment">// ...</span>

  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">></span></span> <span class="token function">setAsWallpaper</span><span class="token punctuation">(</span><span class="token class-name">String</span> imageUrl<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// download image</span>
      <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token comment">// Convert response body to Uint8List</span>
        <span class="token class-name">Uint8List</span> bytes <span class="token operator">=</span> response<span class="token punctuation">.</span>bodyBytes<span class="token punctuation">;</span>

        <span class="token keyword">await</span> platform<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'setWallpaper'</span></span><span class="token punctuation">,</span> bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Downloading image failed!'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name">PlatformException</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Failed to set wallpaper: '</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">e<span class="token punctuation">.</span>message</span><span class="token punctuation">}</span></span><span class="token string">'"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span></code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I won&#39;t call myself a Kotlin developer as I have 0 experience before writing this blog post (however I do have some decent idea working with Java for app development), so the code down below may not be the best way to do it. If there are better way to do it, feel free to hit me up in my inbox.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">So open the <strong>MainActivity.kt</strong>* file inside your <em>android/app/main/kotlin/com/example/<project-name></em> directory. Update the following code:</p>
<div class="code-block"><pre class="language-kotlin"><code><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>my_wallpaper
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>android<span class="token punctuation">.</span>FlutterActivity
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>embedding<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>FlutterEngine
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>GeneratedPluginRegistrant
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel

<span class="token keyword">import</span> android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>WallpaperManager
<span class="token keyword">import</span> android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span>BitmapFactory
<span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Context
<span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Intent
<span class="token keyword">import</span> android<span class="token punctuation">.</span>net<span class="token punctuation">.</span>Uri
<span class="token keyword">import</span> android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span>Bitmap
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>ByteArrayInputStream
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>ByteArrayOutputStream
<span class="token keyword">import</span> android<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>MediaStore

<span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">FlutterActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> CHANNEL <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"com.example.my_wallpaper/setWallpaper"</span></span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">configureFlutterEngine</span><span class="token punctuation">(</span>flutterEngine<span class="token operator">:</span> FlutterEngine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        GeneratedPluginRegistrant<span class="token punctuation">.</span><span class="token function">registerWith</span><span class="token punctuation">(</span>flutterEngine<span class="token punctuation">)</span>
        <span class="token function">MethodChannel</span><span class="token punctuation">(</span>flutterEngine<span class="token punctuation">.</span>dartExecutor<span class="token punctuation">.</span>binaryMessenger<span class="token punctuation">,</span> CHANNEL<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span> <span class="token punctuation">{</span> call<span class="token punctuation">,</span> result <span class="token operator">-></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"setWallpaper"</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">val</span> bytes <span class="token operator">=</span> call<span class="token punctuation">.</span>arguments <span class="token keyword">as</span> ByteArray
                <span class="token function">setWallpaper</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>
                result<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">notImplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setWallpaper</span><span class="token punctuation">(</span>bytes<span class="token operator">:</span> ByteArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> wallpaperManager <span class="token operator">=</span> WallpaperManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token keyword">val</span> bitmap <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeStream</span><span class="token punctuation">(</span><span class="token function">ByteArrayInputStream</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> intent <span class="token operator">=</span> <span class="token function">Intent</span><span class="token punctuation">(</span>wallpaperManager<span class="token punctuation">.</span><span class="token function">getCropAndSetWallpaperIntent</span><span class="token punctuation">(</span><span class="token function">getImageUri</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> bitmap<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span>
        <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">getImageUri</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token punctuation">,</span> bitmap<span class="token operator">:</span> Bitmap<span class="token punctuation">)</span><span class="token operator">:</span> Uri<span class="token punctuation">{</span>
        <span class="token keyword">val</span> bytes <span class="token operator">=</span> <span class="token function">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        bitmap<span class="token punctuation">.</span><span class="token function">compress</span><span class="token punctuation">(</span>Bitmap<span class="token punctuation">.</span>CompressFormat<span class="token punctuation">.</span>JPEG<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> bytes<span class="token punctuation">)</span>
        <span class="token keyword">val</span> path <span class="token operator">=</span> MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media<span class="token punctuation">.</span><span class="token function">insertImage</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>contentResolver<span class="token punctuation">,</span> bitmap<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Title"</span></span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">We use Intent to navigate to the device&#39;s wallpaper manager service with <strong>getCropAndSetWallpaperIntent</strong>. This lets us to crop and set the image as wallpaper. You can improve the logic here to handle error scenarios or other conditions depending on your requirement. I&#39;ll leave it up to you to figure that out.</p>
<h3 id="the-final-hurdle-setting-android-permissions" class="group text-xl font-bold  mt-4 dark:text-neutral-200">The final hurdle: Setting Android Permissions<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#the-final-hurdle-setting-android-permissions">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">If you tried to run the app before this, then you might be able to get the gallery, go to the details screen but might have trouble setting the image as wallpaper. This is because we are missing the final step of our tutorial i.e, to set the Android permissions.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Find the <strong>AndroidManifest.xml</strong> and add the following permissions inside the <code>&lt;manifest&gt;...&lt;/manifest&gt;</code>.</p>
<div class="code-block"><pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; 
&lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot;/&gt;</code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Now you should be able to compile, build and test the app on the Android VM or a phone device.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose"><img src="https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/market/RAW/New%20folder/Screenshot_1717845068-portrait.png" alt=""><img src="https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/market/RAW/New%20folder/Screenshot_1717845076-portrait.png" alt=""><img src="https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/market/RAW/New%20folder/Screenshot_1717845081-portrait.png" alt=""></p>
<h2 id="publishing-app-to-play-store" class="group text-2xl font-bold  mt-4 dark:text-neutral-200">Publishing App to Play Store<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#publishing-app-to-play-store">#</a></h2>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">I personally followed these two medium articles - <a href="https://medium.com/@bernes.dev/deploying-flutter-apps-to-the-playstore-1bd0cce0d15c" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">link 1</a> and <a href="https://medium.com/blocship/publish-flutter-app-to-play-store-69cb0cd5a30b" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">link 2</a> that had a good walkthrough on how to update contents and publish your android app into Play Store. </p>
<h3 id="update-app-name" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Update App Name<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#update-app-name">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">If you want to change the app name then you can update it in <strong>AndroidManifest.xml</strong>.</p>
<div class="code-block"><pre><code>    &lt;application
        android:label=&quot;My App Name&quot;
        android:name=&quot;${applicationName}&quot;
        android:icon=&quot;@mipmap/ic_launcher&quot;
        android:enableOnBackInvokedCallback=&quot;true&quot;</code></pre></div><h3 id="generating-key-store" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Generating Key Store<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#generating-key-store">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Create <strong>android/key.properties</strong> with the following properties and your secret values.</p>
<div class="code-block"><pre><code>storePassword=&lt;Something Secret&gt;
keyPassword=&lt;Something Secret&gt;
keyAlias=my-key-alias
storeFile=my-key.jks</code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Now create a keystore with your secrets.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose"><code>keytool -genkey -v -keystore C:\Users\USER_NAME\my-key.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias my-key-alias</code></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">This will create a file called <strong>my-key.jks</strong> in user directory. Now copy this file inside your app directory under the location <strong>android/app/my-key-jks</strong>.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Now update <strong>andorid/app/build.gradle</strong> with the following configuration for the signing keys:</p>
<div class="code-block"><pre><code>// ...
def keystoreProperties = new Properties()
def keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)
if (keystorePropertiesFile.exists()) {
       keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
}

// Inside andorid namespace
android {
  // ...

  signingConfigs {
    release {
          keyAlias keystoreProperties[&#39;keyAlias&#39;]
          keyPassword keystoreProperties[&#39;keyPassword&#39;]
          storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null
          storePassword keystoreProperties[&#39;storePassword&#39;]
      }
    }

  buildTypes {
      release {
          // TODO: Add your own signing config for the release build.
          // Signing with the debug keys for now, so `flutter run --release` works.
          signingConfig = signingConfigs.release
      }
  }

  // ...
</code></pre></div><h3 id="play-store-release" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Play Store Release<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#play-store-release">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">You can follow the steps mentioned in the above guides on releasing app t0 Play Stores.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">But here are couple of things that you can make use of to make your app more appealing to audience.</p>
<h4 id="custom-app-icon" class="group text-lg font-bold  mt-4 dark:text-neutral-200">Custom App Icon<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#custom-app-icon">#</a></h4>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose"><a href="https://icon.kitchen" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">icon.kitchen</a> is a great place to get your custom icon for android app. It lets you generate manifests of resources for different screen resolution that you can directly import into your project.</p>
<h4 id="phone-mockups" class="group text-lg font-bold  mt-4 dark:text-neutral-200">Phone Mockups<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#phone-mockups">#</a></h4>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose"><a href="https://mockuphone.com/" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">MockUp Phone</a> is another free tool that lets you generate pictures of your android app on a phone mockups.</p>
<h4 id="build-the-bundle" class="group text-lg font-bold  mt-4 dark:text-neutral-200">Build the Bundle<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#build-the-bundle">#</a></h4>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Now we can build the app as a bundle, so it can be deployed to the store.</p>
<div class="code-block"><pre><code>flutter build appbundle</code></pre></div><h2 id="conclusion" class="group text-2xl font-bold  mt-4 dark:text-neutral-200">Conclusion<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#conclusion">#</a></h2>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">You can directly install the android app on your phone through: <a href="https://play.google.com/store/apps/details?id=com.rds.ai.my_wallpaper" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Play Store</a></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">You can find the complete code for this tutorial at <a href="https://github.com/rahuldshetty/flutter-wallpaper-app/tree/master" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Github</a></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300 leading-loose">Feel free to clone the repo and build upon this app. </p>
<!-- HTML_TAG_END --></div></div>  </div> <footer class="text-center lg:text-left mt-auto"><div class="p-4 text-xs text-center text-neutral-400 dark:text-neutral-200">Â© 2024 <a class="text-xs dark:text-neutral-200 text-neutral-400 underline underline-offset-4" href="/" data-svelte-h="svelte-1h1d2v0">rds</a></div></footer> 
			
			<script>
				{
					__sveltekit_14rqgl5 = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,{"type":"data","data":{post:{slug:"from-concept-to-launch-developing-an-android-wallpaper-app-with-flutter",date:"2024-06-10T00:00:00+05:30",date_formatted:"Jun 10, 2024",title:"From Concept to Launch: Developing an Android Wallpaper App with Flutter",description:"This blog post gives a complete walkthrough on how to build an Android Wallpaper App with Flutter and publish it in Play Store.",metadata:{title:"From Concept to Launch: Developing an Android Wallpaper App with Flutter",date:"2024-06-10T00:00:00+05:30",draft:"false",description:"This blog post gives a complete walkthrough on how to build an Android Wallpaper App with Flutter and publish it in Play Store.",author:"Me",showToc:false,cover:"https://i.postimg.cc/Bb1N9bB7/feature.jpg",cover_alt:"Try it now at \u003Ca class=\"underline underline-offset-4\" href=\"https://play.google.com/store/apps/details?id=com.rds.ai.my_wallpaper\">Play Store\u003C/a>",tags:["Tutorial","Android","Flutter"],readingTime:"9",toc:[{content:"The Idea",slug:"the-idea",lvl:1,i:0,seen:0},{content:"Wallpaper Gallery App",slug:"wallpaper-gallery-app",lvl:2,i:1,seen:0},{content:"Setup",slug:"setup",lvl:1,i:2,seen:0},{content:"Develop Flutter App",slug:"develop-flutter-app",lvl:1,i:3,seen:0},{content:"Project Setup",slug:"project-setup",lvl:2,i:4,seen:0},{content:"Writing your Wallpaper Service",slug:"writing-your-wallpaper-service",lvl:2,i:5,seen:0},{content:"Adding dependencies",slug:"adding-dependencies",lvl:3,i:6,seen:0},{content:"Rewriting main.dart",slug:"rewriting-main.dart",lvl:3,i:7,seen:0},{content:"Creating Wallpaper Object and Loader",slug:"creating-wallpaper-object-and-loader",lvl:3,i:8,seen:0},{content:"Implementing Wallpaper Gallery UI",slug:"implementing-wallpaper-gallery-ui",lvl:3,i:9,seen:0},{content:"Opening up Wallpaper in Details Screen",slug:"opening-up-wallpaper-in-details-screen",lvl:3,i:10,seen:0},{content:"Calling native Kotlin to set device wallpaper",slug:"calling-native-kotlin-to-set-device-wallpaper",lvl:3,i:11,seen:0},{content:"The final hurdle: Setting Android Permissions",slug:"the-final-hurdle-setting-android-permissions",lvl:3,i:12,seen:0},{content:"Publishing App to Play Store",slug:"publishing-app-to-play-store",lvl:2,i:13,seen:0},{content:"Update App Name",slug:"update-app-name",lvl:3,i:14,seen:0},{content:"Generating Key Store",slug:"generating-key-store",lvl:3,i:15,seen:0},{content:"Play Store Release",slug:"play-store-release",lvl:3,i:16,seen:0},{content:"Custom App Icon",slug:"custom-app-icon",lvl:4,i:17,seen:0},{content:"Phone Mockups",slug:"phone-mockups",lvl:4,i:18,seen:0},{content:"Build the Bundle",slug:"build-the-bundle",lvl:4,i:19,seen:0},{content:"Conclusion",slug:"conclusion",lvl:2,i:20,seen:0}]},file:"2024\\build-flutter-wallpaper-app.md",content:"\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Back in college, I had opened a Google Play Developer&#39;s account. I was motivated to release many Android apps and get few of them to success (more downloads/publicity/etc) but to my surprise, developing Android app is just the first part of the process.The later part of the process involves marketing the app to your social circle/friends/media/news etc to be able to really make it a success. Luckily, one of the apps that I developed with my friends in college did see that success - Naman (but unfortunately Google seemed to have removed it now due to no maintenance).\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Anyway 4 years later, going back to my Google Play Console I got a message in my email that they are going to shutdown my developer account due to inactivity.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">\u003Cimg src=\"https://storage.googleapis.com/support-forums-api/attachment/thread-264043037-10088205505755485415.png\" alt=\"Google Play Account Suspension Warning\">\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I did not want to lose the account nor the apps that I already published, so I went ahead to develop and publish a new app to meet with their criteria.\u003C/p>\n\u003Ch1 id=\"the-idea\" class=\"group text-3xl font-bold mt-4 dark:text-neutral-200\">The Idea\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#the-idea\">#\u003C/a>\u003C/h1>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I know I wanted to make something small but that can easily be extended by more features. I didn&#39;t want to have frequent releases but there should be a factor that will let users to come to the app. Thinking of different ideas from building an image-gen app, voice-assistant app, news app etc.. I ended up with a wallpaper gallery app. \u003C/p>\n\u003Ch2 id=\"wallpaper-gallery-app\" class=\"group text-2xl font-bold  mt-4 dark:text-neutral-200\">Wallpaper Gallery App\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#wallpaper-gallery-app\">#\u003C/a>\u003C/h2>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I wanted the app to be bit engaging and have a way of expanding the given library. So I went ahead with this approach:\u003C/p>\n\u003Col class=\" space-y-1 list-decimal list-inside\" >\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">Upload images into hosting service (like \u003Ca href=\"https://postimages.org/\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">postimages\u003C/a>, \u003Ca href=\"https://imgbb.com/upload\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">imgbb\u003C/a>)\u003C/li>\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">Create and upload a JSON data file into a remote location that contains links to the thumbnails and original image itself (I created a simple JSON file in the project&#39;s Github repository to store this \u003Ca href=\"https://github.com/rahuldshetty/flutter-wallpaper-app/blob/master/wallpaper_collection/wallpaper_data_v1.json\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">information\u003C/a>. This lets me to quickly update my gallery of images in the app without re-deploying or re-publishing).\u003C/li>\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">App initializes and loads the gallery image data from the remote JSON link.\u003C/li>\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">Users can set the selected image as their wallpaper.\u003C/li>\n\u003C/ol>\n\u003Ch1 id=\"setup\" class=\"group text-3xl font-bold mt-4 dark:text-neutral-200\">Setup\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#setup\">#\u003C/a>\u003C/h1>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I won&#39;t go in details about the dev environment setup, but make sure to have the following things installed:\u003C/p>\n\u003Cul class=\" space-y-1 list-disc list-inside\" >\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">\u003Ca href=\"https://developer.android.com/studio\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Android Studio with SDK + VM\u003C/a> [As of this writing this blog, I&#39;m using Android Studio version JellyFish (2023.3.1 Patch 1)]\u003C/li>\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">\u003Ca href=\"https://docs.flutter.dev/get-started/install\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Flutter\u003C/a> [Flutter version used in this tutorial: Flutter 3.22.2]\u003C/li>\n\u003Cli class=\"text-neutral-700 dark:text-neutral-300 leading-loose mx-2 my-2 text-sm \">\u003Ca href=\"https://www.java.com/download/manual.jsp\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Java\u003C/a> [This is helpful when building the app bundles in order to publish in Play Store]\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"develop-flutter-app\" class=\"group text-3xl font-bold mt-4 dark:text-neutral-200\">Develop Flutter App\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#develop-flutter-app\">#\u003C/a>\u003C/h1>\n\u003Ch2 id=\"project-setup\" class=\"group text-2xl font-bold  mt-4 dark:text-neutral-200\">Project Setup\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#project-setup\">#\u003C/a>\u003C/h2>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Run the following commands to set up a new flutter project.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-bash\">\u003Ccode>\u003Cspan class=\"token comment\"># Make sure flutter has everything setup\u003C/span>\nflutter doctor\n\n\u003Cspan class=\"token comment\"># Create flutter project\u003C/span>\nflutter create \u003Cspan class=\"token operator\">&lt;\u003C/span>project-name\u003Cspan class=\"token operator\">>\u003C/span>\n\n\u003Cspan class=\"token comment\"># Open the project in VSCode (or other favorite editor)\u003C/span>\n\u003Cspan class=\"token builtin class-name\">cd\u003C/span> \u003Cspan class=\"token operator\">&lt;\u003C/span>project-name\u003Cspan class=\"token operator\">>\u003C/span>\ncode \u003Cspan class=\"token builtin class-name\">.\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">You should have some boilerplate code configured. If you are using VS Code, then you can use it&#39;s great flutter extension to start the app directly on n Android VM. Even though, we don&#39;t really have our Wallpaper app ready we can still go ahead and run the boilerplate code to see if the code is compiling successfully. Once the app launches successfully, you should be able to see a counter app.\u003C/p>\n\u003Ch2 id=\"writing-your-wallpaper-service\" class=\"group text-2xl font-bold  mt-4 dark:text-neutral-200\">Writing your Wallpaper Service\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#writing-your-wallpaper-service\">#\u003C/a>\u003C/h2>\n\u003Ch3 id=\"adding-dependencies\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Adding dependencies\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#adding-dependencies\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Update \u003Cem>pubspec.yaml\u003C/em> with the following dependencies. \u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre>\u003Ccode># ...\n\ndependencies:\n  # ...\n  http: ^1.2.1\n  cached_network_image: ^3.0.0\n\n# ...\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Run \u003Ccode>flutter pub get\u003C/code> to download these dependencies in the project.\u003C/p>\n\u003Ch3 id=\"rewriting-main.dart\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Rewriting main.dart\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#rewriting-main.dart\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">We will remove the default Counter app in \u003Cem>main.dart\u003C/em> and create something shown below.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-dart\">\u003Ccode>\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:flutter/material.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:my_wallpaper/ui/home.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">void\u003C/span> \u003Cspan class=\"token function\">main\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">runApp\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">MyApp\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token class-name\">MyApp\u003C/span> \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">StatelessWidget\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">MyApp\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token keyword\">super\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>key\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// This widget is the root of your application.\u003C/span>\n  \u003Cspan class=\"token metadata function\">@override\u003C/span>\n  \u003Cspan class=\"token class-name\">Widget\u003C/span> \u003Cspan class=\"token function\">build\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">BuildContext\u003C/span> context\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token class-name\">MaterialApp\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n      debugShowCheckedModeBanner\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      title\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'AI Wallpaper Gallery'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      theme\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">ThemeData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n        colorScheme\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">ColorScheme\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">fromSeed\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>seedColor\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">Colors\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>tealAccent\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        useMaterial3\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      home\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">HomePage\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Ch3 id=\"creating-wallpaper-object-and-loader\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Creating Wallpaper Object and Loader\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#creating-wallpaper-object-and-loader\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Now create a folder under your app directory \u003Cem>lib/services\u003C/em> and create a new dart class-file called \u003Cstrong>lib/services/wallpaper.dart\u003C/strong> for holding your Wallpaper object. \u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-dart\">\u003Ccode>\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'dart:convert'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:flutter/material.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:http/http.dart'\u003C/span>\u003C/span> \u003Cspan class=\"token operator\">as\u003C/span> http\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:cached_network_image/cached_network_image.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// TODO: Update Remote URL for Wallpaper Data with your Link\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">String\u003C/span> imageWallpeperUrl \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">\"https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/wallpaper_collection/wallpaper_data_v1.json\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">final\u003C/span> \u003Cspan class=\"token class-name\">String\u003C/span> category\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">final\u003C/span> \u003Cspan class=\"token class-name\">String\u003C/span> namge\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">final\u003C/span> \u003Cspan class=\"token class-name\">String\u003C/span> thumbnailUrl\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">final\u003C/span> \u003Cspan class=\"token class-name\">String\u003C/span> imageUrl\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>required \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>category\u003Cspan class=\"token punctuation\">,\u003C/span> required \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>namge\u003Cspan class=\"token punctuation\">,\u003C/span> required \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>thumbnailUrl\u003Cspan class=\"token punctuation\">,\u003C/span> required \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>imageUrl\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">factory\u003C/span> \u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">fromJson\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">Map\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">String\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">dynamic\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> json\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n      category\u003Cspan class=\"token punctuation\">:\u003C/span> json\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'category'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \n      namge\u003Cspan class=\"token punctuation\">:\u003C/span> json\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'namge'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \n      thumbnailUrl\u003Cspan class=\"token punctuation\">:\u003C/span> json\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'thumbnailUrl'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \n      imageUrl\u003Cspan class=\"token punctuation\">:\u003C/span> json\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'imageUrl'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token class-name\">WallpaperService\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">static\u003C/span> \u003Cspan class=\"token class-name\">Future\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">List\u003C/span>\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> \u003Cspan class=\"token function\">fetchWallpapers\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// Read JSON data from remote location\u003C/span>\n    \u003Cspan class=\"token keyword\">final\u003C/span> response \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> http\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token keyword\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">Uri\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">parse\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>imageWallpeperUrl\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>statusCode \u003Cspan class=\"token operator\">==\u003C/span> \u003Cspan class=\"token number\">200\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// Load wallpaper data into Object structure\u003C/span>\n        \u003Cspan class=\"token class-name\">List\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token keyword\">dynamic\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> data \u003Cspan class=\"token operator\">=\u003C/span> json\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">decode\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>body\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">return\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>json\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">fromJson\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>json\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toList\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">throw\u003C/span> \u003Cspan class=\"token class-name\">Exception\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'Failed to load wallpapers'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Ch3 id=\"implementing-wallpaper-gallery-ui\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Implementing Wallpaper Gallery UI\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#implementing-wallpaper-gallery-ui\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">This will be the home page for our flutter application. We will use a GridView to display the contents of \u003Cem>Wallpaper\u003C/em> object as they are loaded dynamically during startup. \u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">To do this, let us create a dart component for the UI under the following location \u003Cstrong>lib/ui/home.dart\u003C/strong>.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-dart\">\u003Ccode>\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:cached_network_image/cached_network_image.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:flutter/material.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:my_wallpaper/services/wallpaper.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:my_wallpaper/ui/wallpaper_detail.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token class-name\">HomePage\u003C/span> \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">StatefulWidget\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">HomePage\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token keyword\">super\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>key\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token metadata function\">@override\u003C/span>\n  \u003Cspan class=\"token class-name\">State\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">HomePage\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> \u003Cspan class=\"token function\">createState\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token function\">_HomePageState\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">class\u003C/span> _HomePageState \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">State\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">HomePage\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  late \u003Cspan class=\"token class-name\">Future\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">List\u003C/span>\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> futureWallpaper\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token metadata function\">@override\u003C/span>\n  \u003Cspan class=\"token keyword\">void\u003C/span> \u003Cspan class=\"token function\">initState\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    futureWallpaper \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token class-name\">WallpaperService\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">fetchWallpapers\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">super\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">initState\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \n  \u003Cspan class=\"token metadata function\">@override\u003C/span>\n  \u003Cspan class=\"token class-name\">Widget\u003C/span> \u003Cspan class=\"token function\">build\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">BuildContext\u003C/span> context\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token class-name\">Scaffold\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n      appBar\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">AppBar\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>title\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Text\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'AI Wallpaper Gallery'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      body\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">FutureBuilder\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">List\u003C/span>\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n        future\u003Cspan class=\"token punctuation\">:\u003C/span> futureWallpaper\u003Cspan class=\"token punctuation\">,\u003C/span>\n        builder\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> snapshot\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n          \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>snapshot\u003Cspan class=\"token punctuation\">.\u003C/span>connectionState \u003Cspan class=\"token operator\">==\u003C/span> \u003Cspan class=\"token class-name\">ConnectionState\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>waiting\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Center\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">CircularProgressIndicator\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n          \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>snapshot\u003Cspan class=\"token punctuation\">.\u003C/span>hasError\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Center\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">Text\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">\"Failed to load Wallpaper data\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n          \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token class-name\">List\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token class-name\">Wallpaper\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token operator\">?\u003C/span> wallpapers \u003Cspan class=\"token operator\">=\u003C/span> snapshot\u003Cspan class=\"token punctuation\">.\u003C/span>data\u003Cspan class=\"token punctuation\">;\u003C/span>\n            \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token class-name\">GridView\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">builder\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n              itemCount\u003Cspan class=\"token punctuation\">:\u003C/span> wallpapers\u003Cspan class=\"token operator\">?\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">,\u003C/span>\n              gridDelegate\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">SliverGridDelegateWithFixedCrossAxisCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                crossAxisCount\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                childAspectRatio\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span> \u003Cspan class=\"token number\">.4\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n              \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n              itemBuilder\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> index\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n                \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token class-name\">GestureDetector\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                  onTap\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n                    \u003Cspan class=\"token class-name\">Navigator\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                      context\u003Cspan class=\"token punctuation\">,\u003C/span> \n                      \u003Cspan class=\"token class-name\">MaterialPageRoute\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>builder\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token class-name\">WallpaperDetail\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>wallpapers\u003Cspan class=\"token punctuation\">[\u003C/span>index\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n                    \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n                  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                  child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">CachedNetworkImage\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                    imageUrl\u003Cspan class=\"token punctuation\">:\u003C/span> wallpapers\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>index\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>thumbnailUrl\u003Cspan class=\"token punctuation\">,\u003C/span>\n                    placeholder\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> url\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Center\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>child\u003Cspan class=\"token punctuation\">:\u003C/span>\n                      \u003Cspan class=\"token class-name\">SizedBox\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                      width\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token number\">80.0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                      height\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token number\">80.0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                      child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">CircularProgressIndicator\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                    \u003Cspan class=\"token punctuation\">)\u003C/span>\n                    \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                    errorWidget\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> url\u003Cspan class=\"token punctuation\">,\u003C/span> error\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Icon\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">Icons\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>error\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                    fit\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">BoxFit\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>cover\n                  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n              \u003Cspan class=\"token punctuation\">}\u003C/span>\n            \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n          \u003Cspan class=\"token punctuation\">}\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Ch3 id=\"opening-up-wallpaper-in-details-screen\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Opening up Wallpaper in Details Screen\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#opening-up-wallpaper-in-details-screen\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Now when the user selects any of the image, we want to redirect them to a details screen from where they can set the image as wallpaper.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Let us create another dart file under the ui component \u003Cstrong>lib/ui/wallpaper_detail.dart\u003C/strong>.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-dart\">\u003Ccode>\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:cached_network_image/cached_network_image.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:flutter/material.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:flutter/services.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'package:my_wallpaper/services/wallpaper.dart'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token class-name\">WallpaperDetail\u003C/span> \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">StatelessWidget\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">final\u003C/span> \u003Cspan class=\"token class-name\">Wallpaper\u003C/span> wallpaper\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">WallpaperDetail\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>wallpaper\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token keyword\">super\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>key\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token metadata function\">@override\u003C/span>\n  \u003Cspan class=\"token class-name\">Widget\u003C/span> \u003Cspan class=\"token function\">build\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">BuildContext\u003C/span> context\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token class-name\">Scaffold\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n        resizeToAvoidBottomInset\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        appBar\u003Cspan class=\"token punctuation\">:\u003C/span>\n            \u003Cspan class=\"token class-name\">AppBar\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>title\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">Text\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">\"\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token punctuation\">${\u003C/span>\u003Cspan class=\"token expression\">wallpaper\u003Cspan class=\"token punctuation\">.\u003C/span>namge\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\"> (\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token punctuation\">${\u003C/span>\u003Cspan class=\"token expression\">wallpaper\u003Cspan class=\"token punctuation\">.\u003C/span>category\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">)\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        body\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">SingleChildScrollView\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>child\u003Cspan class=\"token punctuation\">:\u003C/span>\u003Cspan class=\"token class-name\">Center\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n            child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">Column\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n            mainAxisAlignment\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">MainAxisAlignment\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>center\u003Cspan class=\"token punctuation\">,\u003C/span>\n            crossAxisAlignment\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">CrossAxisAlignment\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>center\u003Cspan class=\"token punctuation\">,\u003C/span>\n            children\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n              \u003Cspan class=\"token class-name\">Center\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">CachedNetworkImage\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                  imageUrl\u003Cspan class=\"token punctuation\">:\u003C/span> wallpaper\u003Cspan class=\"token punctuation\">.\u003C/span>imageUrl\u003Cspan class=\"token punctuation\">,\u003C/span>\n                  placeholder\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> url\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n                      \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">CircularProgressIndicator\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                  errorWidget\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> url\u003Cspan class=\"token punctuation\">,\u003C/span> error\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Icon\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">Icons\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>error\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                  fit\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token class-name\">BoxFit\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>cover\u003Cspan class=\"token punctuation\">,\u003C/span>\n                \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n              \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n              \u003Cspan class=\"token class-name\">TextButton\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n                  onPressed\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n                    \u003Cspan class=\"token comment\">// TODO: Set Wallpaper functionality\u003C/span>\n                   \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> child\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token class-name\">Text\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">\"Set As Wallpaper\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Ch3 id=\"calling-native-kotlin-to-set-device-wallpaper\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Calling native Kotlin to set device wallpaper\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#calling-native-kotlin-to-set-device-wallpaper\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">This part was one of the trickest (at least for me as I was out of touch with Mobile App Dev for more than 5 years). I have built the basics, but now its just left is to take the remote image data and set it as wallpaper on the Android device.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">My first thought was to see if there are any pre-existing packages/library that does it out-of-the-box in flutter. I hoped onto flutter&#39;s \u003Ca href=\"https://pub.dev/\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">pub.dev\u003C/a> and looked for \u003Ca href=\"https://pub.dev/packages?q=wallpaper\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">wallpaper\u003C/a> related package. Most of the libraries that I tried were either outdated or not maintained. I had no choice but to take the difficult route which involved going through the sacred texts (\u003Ca href=\"https://developer.android.com/guide\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Android Documentation\u003C/a>). \u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I had a breakthrough after a little bit of Googling and OpenAIing/GPTing. The solution involved building the \u003Cem>setWallpaper\u003C/em> service in native android code (Kotlin/Java) and then have the method called through channels.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">\u003Cimg src=\"https://i.redd.it/ffavl8dphwt41.jpg\" alt=\"Welp\">\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">In the \u003Cstrong>wallpaper_detail.dart\u003C/strong> component, add the following changes to call Koltin native code.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-dart\">\u003Ccode>\u003Cspan class=\"token comment\">// ....\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> platform \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token class-name\">MethodChannel\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'com.example.my_wallpaper/setWallpaper'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Inside \"class WallpaperDetail...\" \u003C/span>\n\u003Cspan class=\"token comment\">// ...\u003C/span>\n\n  \u003Cspan class=\"token class-name\">Future\u003C/span>\u003Cspan class=\"token generics\">\u003Cspan class=\"token punctuation\">&lt;\u003C/span>\u003Cspan class=\"token keyword\">void\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> \u003Cspan class=\"token function\">setAsWallpaper\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">String\u003C/span> imageUrl\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token comment\">// download image\u003C/span>\n      \u003Cspan class=\"token keyword\">final\u003C/span> response \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> http\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token keyword\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token class-name\">Uri\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">parse\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>imageUrl\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>statusCode \u003Cspan class=\"token operator\">==\u003C/span> \u003Cspan class=\"token number\">200\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n         \u003Cspan class=\"token comment\">// Convert response body to Uint8List\u003C/span>\n        \u003Cspan class=\"token class-name\">Uint8List\u003C/span> bytes \u003Cspan class=\"token operator\">=\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>bodyBytes\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n        \u003Cspan class=\"token keyword\">await\u003C/span> platform\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">invokeMethod\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'setWallpaper'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> bytes\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">throw\u003C/span> \u003Cspan class=\"token class-name\">Exception\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">'Downloading image failed!'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">on\u003C/span> \u003Cspan class=\"token class-name\">PlatformException\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token function\">print\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string-literal\">\u003Cspan class=\"token string\">\"Failed to set wallpaper: '\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token punctuation\">${\u003C/span>\u003Cspan class=\"token expression\">e\u003Cspan class=\"token punctuation\">.\u003C/span>message\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">'\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I won&#39;t call myself a Kotlin developer as I have 0 experience before writing this blog post (however I do have some decent idea working with Java for app development), so the code down below may not be the best way to do it. If there are better way to do it, feel free to hit me up in my inbox.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">So open the \u003Cstrong>MainActivity.kt\u003C/strong>* file inside your \u003Cem>android/app/main/kotlin/com/example/\u003Cproject-name>\u003C/em> directory. Update the following code:\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-kotlin\">\u003Ccode>\u003Cspan class=\"token keyword\">package\u003C/span> com\u003Cspan class=\"token punctuation\">.\u003C/span>example\u003Cspan class=\"token punctuation\">.\u003C/span>my_wallpaper\n\u003Cspan class=\"token keyword\">import\u003C/span> io\u003Cspan class=\"token punctuation\">.\u003C/span>flutter\u003Cspan class=\"token punctuation\">.\u003C/span>embedding\u003Cspan class=\"token punctuation\">.\u003C/span>android\u003Cspan class=\"token punctuation\">.\u003C/span>FlutterActivity\n\u003Cspan class=\"token keyword\">import\u003C/span> io\u003Cspan class=\"token punctuation\">.\u003C/span>flutter\u003Cspan class=\"token punctuation\">.\u003C/span>embedding\u003Cspan class=\"token punctuation\">.\u003C/span>engine\u003Cspan class=\"token punctuation\">.\u003C/span>FlutterEngine\n\u003Cspan class=\"token keyword\">import\u003C/span> io\u003Cspan class=\"token punctuation\">.\u003C/span>flutter\u003Cspan class=\"token punctuation\">.\u003C/span>plugins\u003Cspan class=\"token punctuation\">.\u003C/span>GeneratedPluginRegistrant\n\u003Cspan class=\"token keyword\">import\u003C/span> io\u003Cspan class=\"token punctuation\">.\u003C/span>flutter\u003Cspan class=\"token punctuation\">.\u003C/span>plugin\u003Cspan class=\"token punctuation\">.\u003C/span>common\u003Cspan class=\"token punctuation\">.\u003C/span>MethodChannel\n\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>app\u003Cspan class=\"token punctuation\">.\u003C/span>WallpaperManager\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>graphics\u003Cspan class=\"token punctuation\">.\u003C/span>BitmapFactory\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>content\u003Cspan class=\"token punctuation\">.\u003C/span>Context\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>content\u003Cspan class=\"token punctuation\">.\u003C/span>Intent\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>net\u003Cspan class=\"token punctuation\">.\u003C/span>Uri\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>graphics\u003Cspan class=\"token punctuation\">.\u003C/span>Bitmap\n\u003Cspan class=\"token keyword\">import\u003C/span> java\u003Cspan class=\"token punctuation\">.\u003C/span>io\u003Cspan class=\"token punctuation\">.\u003C/span>ByteArrayInputStream\n\u003Cspan class=\"token keyword\">import\u003C/span> java\u003Cspan class=\"token punctuation\">.\u003C/span>io\u003Cspan class=\"token punctuation\">.\u003C/span>ByteArrayOutputStream\n\u003Cspan class=\"token keyword\">import\u003C/span> android\u003Cspan class=\"token punctuation\">.\u003C/span>provider\u003Cspan class=\"token punctuation\">.\u003C/span>MediaStore\n\n\u003Cspan class=\"token keyword\">class\u003C/span> MainActivity \u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token function\">FlutterActivity\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">private\u003C/span> \u003Cspan class=\"token keyword\">val\u003C/span> CHANNEL \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string-literal singleline\">\u003Cspan class=\"token string\">\"com.example.my_wallpaper/setWallpaper\"\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token keyword\">override\u003C/span> \u003Cspan class=\"token keyword\">fun\u003C/span> \u003Cspan class=\"token function\">configureFlutterEngine\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>flutterEngine\u003Cspan class=\"token operator\">:\u003C/span> FlutterEngine\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        GeneratedPluginRegistrant\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">registerWith\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>flutterEngine\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token function\">MethodChannel\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>flutterEngine\u003Cspan class=\"token punctuation\">.\u003C/span>dartExecutor\u003Cspan class=\"token punctuation\">.\u003C/span>binaryMessenger\u003Cspan class=\"token punctuation\">,\u003C/span> CHANNEL\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setMethodCallHandler\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> call\u003Cspan class=\"token punctuation\">,\u003C/span> result \u003Cspan class=\"token operator\">->\u003C/span>\n            \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>call\u003Cspan class=\"token punctuation\">.\u003C/span>method \u003Cspan class=\"token operator\">==\u003C/span> \u003Cspan class=\"token string-literal singleline\">\u003Cspan class=\"token string\">\"setWallpaper\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n                \u003Cspan class=\"token keyword\">val\u003C/span> bytes \u003Cspan class=\"token operator\">=\u003C/span> call\u003Cspan class=\"token punctuation\">.\u003C/span>arguments \u003Cspan class=\"token keyword\">as\u003C/span> ByteArray\n                \u003Cspan class=\"token function\">setWallpaper\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>bytes\u003Cspan class=\"token punctuation\">)\u003C/span>\n                result\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">success\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n                result\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">notImplemented\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">}\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n    \u003Cspan class=\"token keyword\">private\u003C/span> \u003Cspan class=\"token keyword\">fun\u003C/span> \u003Cspan class=\"token function\">setWallpaper\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>bytes\u003Cspan class=\"token operator\">:\u003C/span> ByteArray\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">val\u003C/span> wallpaperManager \u003Cspan class=\"token operator\">=\u003C/span> WallpaperManager\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getInstance\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token keyword\">val\u003C/span> bitmap \u003Cspan class=\"token operator\">=\u003C/span> BitmapFactory\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">decodeStream\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">ByteArrayInputStream\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>bytes\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token keyword\">val\u003C/span> intent \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Intent\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>wallpaperManager\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getCropAndSetWallpaperIntent\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">getImageUri\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">,\u003C/span> bitmap\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token function\">startActivity\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>intent\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token function\">finish\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n    \u003Cspan class=\"token keyword\">private\u003C/span> \u003Cspan class=\"token keyword\">fun\u003C/span> \u003Cspan class=\"token function\">getImageUri\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token operator\">:\u003C/span> Context\u003Cspan class=\"token punctuation\">,\u003C/span> bitmap\u003Cspan class=\"token operator\">:\u003C/span> Bitmap\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> Uri\u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">val\u003C/span> bytes \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">ByteArrayOutputStream\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        bitmap\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">compress\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>Bitmap\u003Cspan class=\"token punctuation\">.\u003C/span>CompressFormat\u003Cspan class=\"token punctuation\">.\u003C/span>JPEG\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">100\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> bytes\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token keyword\">val\u003C/span> path \u003Cspan class=\"token operator\">=\u003C/span> MediaStore\u003Cspan class=\"token punctuation\">.\u003C/span>Images\u003Cspan class=\"token punctuation\">.\u003C/span>Media\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">insertImage\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>context\u003Cspan class=\"token punctuation\">.\u003C/span>contentResolver\u003Cspan class=\"token punctuation\">,\u003C/span> bitmap\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string-literal singleline\">\u003Cspan class=\"token string\">\"Title\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token keyword\">return\u003C/span> Uri\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">parse\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>path\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">We use Intent to navigate to the device&#39;s wallpaper manager service with \u003Cstrong>getCropAndSetWallpaperIntent\u003C/strong>. This lets us to crop and set the image as wallpaper. You can improve the logic here to handle error scenarios or other conditions depending on your requirement. I&#39;ll leave it up to you to figure that out.\u003C/p>\n\u003Ch3 id=\"the-final-hurdle-setting-android-permissions\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">The final hurdle: Setting Android Permissions\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#the-final-hurdle-setting-android-permissions\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">If you tried to run the app before this, then you might be able to get the gallery, go to the details screen but might have trouble setting the image as wallpaper. This is because we are missing the final step of our tutorial i.e, to set the Android permissions.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Find the \u003Cstrong>AndroidManifest.xml\u003C/strong> and add the following permissions inside the \u003Ccode>&lt;manifest&gt;...&lt;/manifest&gt;\u003C/code>.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre>\u003Ccode>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \n&lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot;/&gt;\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Now you should be able to compile, build and test the app on the Android VM or a phone device.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">\u003Cimg src=\"https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/market/RAW/New%20folder/Screenshot_1717845068-portrait.png\" alt=\"\">\u003Cimg src=\"https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/market/RAW/New%20folder/Screenshot_1717845076-portrait.png\" alt=\"\">\u003Cimg src=\"https://raw.githubusercontent.com/rahuldshetty/flutter-wallpaper-app/master/market/RAW/New%20folder/Screenshot_1717845081-portrait.png\" alt=\"\">\u003C/p>\n\u003Ch2 id=\"publishing-app-to-play-store\" class=\"group text-2xl font-bold  mt-4 dark:text-neutral-200\">Publishing App to Play Store\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#publishing-app-to-play-store\">#\u003C/a>\u003C/h2>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">I personally followed these two medium articles - \u003Ca href=\"https://medium.com/@bernes.dev/deploying-flutter-apps-to-the-playstore-1bd0cce0d15c\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">link 1\u003C/a> and \u003Ca href=\"https://medium.com/blocship/publish-flutter-app-to-play-store-69cb0cd5a30b\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">link 2\u003C/a> that had a good walkthrough on how to update contents and publish your android app into Play Store. \u003C/p>\n\u003Ch3 id=\"update-app-name\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Update App Name\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#update-app-name\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">If you want to change the app name then you can update it in \u003Cstrong>AndroidManifest.xml\u003C/strong>.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre>\u003Ccode>    &lt;application\n        android:label=&quot;My App Name&quot;\n        android:name=&quot;${applicationName}&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:enableOnBackInvokedCallback=&quot;true&quot;\u003C/code>\u003C/pre>\u003C/div>\u003Ch3 id=\"generating-key-store\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Generating Key Store\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#generating-key-store\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Create \u003Cstrong>android/key.properties\u003C/strong> with the following properties and your secret values.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre>\u003Ccode>storePassword=&lt;Something Secret&gt;\nkeyPassword=&lt;Something Secret&gt;\nkeyAlias=my-key-alias\nstoreFile=my-key.jks\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Now create a keystore with your secrets.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">\u003Ccode>keytool -genkey -v -keystore C:\\Users\\USER_NAME\\my-key.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias my-key-alias\u003C/code>\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">This will create a file called \u003Cstrong>my-key.jks\u003C/strong> in user directory. Now copy this file inside your app directory under the location \u003Cstrong>android/app/my-key-jks\u003C/strong>.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Now update \u003Cstrong>andorid/app/build.gradle\u003C/strong> with the following configuration for the signing keys:\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre>\u003Ccode>// ...\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\nif (keystorePropertiesFile.exists()) {\n       keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\n// Inside andorid namespace\nandroid {\n  // ...\n\n  signingConfigs {\n    release {\n          keyAlias keystoreProperties[&#39;keyAlias&#39;]\n          keyPassword keystoreProperties[&#39;keyPassword&#39;]\n          storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\n          storePassword keystoreProperties[&#39;storePassword&#39;]\n      }\n    }\n\n  buildTypes {\n      release {\n          // TODO: Add your own signing config for the release build.\n          // Signing with the debug keys for now, so `flutter run --release` works.\n          signingConfig = signingConfigs.release\n      }\n  }\n\n  // ...\n\u003C/code>\u003C/pre>\u003C/div>\u003Ch3 id=\"play-store-release\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Play Store Release\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#play-store-release\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">You can follow the steps mentioned in the above guides on releasing app t0 Play Stores.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">But here are couple of things that you can make use of to make your app more appealing to audience.\u003C/p>\n\u003Ch4 id=\"custom-app-icon\" class=\"group text-lg font-bold  mt-4 dark:text-neutral-200\">Custom App Icon\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#custom-app-icon\">#\u003C/a>\u003C/h4>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">\u003Ca href=\"https://icon.kitchen\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">icon.kitchen\u003C/a> is a great place to get your custom icon for android app. It lets you generate manifests of resources for different screen resolution that you can directly import into your project.\u003C/p>\n\u003Ch4 id=\"phone-mockups\" class=\"group text-lg font-bold  mt-4 dark:text-neutral-200\">Phone Mockups\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#phone-mockups\">#\u003C/a>\u003C/h4>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">\u003Ca href=\"https://mockuphone.com/\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">MockUp Phone\u003C/a> is another free tool that lets you generate pictures of your android app on a phone mockups.\u003C/p>\n\u003Ch4 id=\"build-the-bundle\" class=\"group text-lg font-bold  mt-4 dark:text-neutral-200\">Build the Bundle\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#build-the-bundle\">#\u003C/a>\u003C/h4>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Now we can build the app as a bundle, so it can be deployed to the store.\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre>\u003Ccode>flutter build appbundle\u003C/code>\u003C/pre>\u003C/div>\u003Ch2 id=\"conclusion\" class=\"group text-2xl font-bold  mt-4 dark:text-neutral-200\">Conclusion\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#conclusion\">#\u003C/a>\u003C/h2>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">You can directly install the android app on your phone through: \u003Ca href=\"https://play.google.com/store/apps/details?id=com.rds.ai.my_wallpaper\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Play Store\u003C/a>\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">You can find the complete code for this tutorial at \u003Ca href=\"https://github.com/rahuldshetty/flutter-wallpaper-app/tree/master\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Github\u003C/a>\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300 leading-loose\">Feel free to clone the repo and build upon this app. \u003C/p>\n"}},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../../_app/immutable/entry/start.ff4a89b7.js"),
						import("../../_app/immutable/entry/app.b29e0e1c.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
