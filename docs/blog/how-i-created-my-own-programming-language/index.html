<script>
	// It's best to inline this in `head` to avoid FOUC (flash of unstyled content) when changing pages or themes
	if (
	  localStorage.getItem('color-theme') === 'dark' ||
	  (!('color-theme' in localStorage) &&
		window.matchMedia('(prefers-color-scheme: dark)').matches)
	) {
	  document.documentElement.classList.add('dark');
	} else {
	  document.documentElement.classList.remove('dark');
	}
  </script>

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.176a71ba.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/index.95b16411.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.96169547.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.f723e07a.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/singletons.a1d7ef9a.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.8407443c.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/paths.0ed66470.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.4662d2c5.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.1b6cbd1b.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.614ccae1.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.3576ea1b.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.8274d8d2.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/4.177e68c3.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/cover.2889fc35.js"><title>How I created my own Programming Language</title><!-- HEAD_svelte-fgg0v1_START --><script async src="https://www.googletagmanager.com/gtag/js?id=G-WVR6SWQH0Z" data-svelte-h="svelte-1thcm6j"></script><!-- HEAD_svelte-fgg0v1_END --><!-- HEAD_svelte-1n6hdy6_START --><meta property="og:site_name" content="RDS's Blog"><meta property="og:title" content="How I created my own Programming Language"><meta property="og:type" content="article"><meta property="og:description" content="In this article, I go over the topics on how to build your own programming language."><meta property="og:image" content="https://craftinginterpreters.com/image/a-map-of-the-territory/mountain.png"><meta property="article:published_time" content="2022-12-18T00:00:00+05:30"><meta name="twitter:card" content="summary_large_image"><!-- HEAD_svelte-1n6hdy6_END -->
	</head>
	<body data-sveltekit-preload-data="hover" 
		class="dark:bg-[#121212] dark:border-gray-50 flex flex-col min-h-screen"
	>
		<div style="display: contents">   <nav class="dark:bg-[#121212]"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="relative flex h-16 items-center justify-between"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"> <button type="button" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 focus:outline-none" aria-controls="mobile-menu" aria-expanded="false" data-svelte-h="svelte-1pv4qi8"><span class="absolute -inset-0.5"></span> <span class="sr-only">Open Menu</span>  <svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg>  <svg class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"><div class="flex flex-shrink-0 items-center" data-svelte-h="svelte-frp9wu"><a href="/"><img class="h-8 w-auto" src="/_app/immutable/assets/logo.33e33a6c.png" alt="Website Logo"></a></div> <div class="hidden sm:ml-6 sm:block"> <div class="flex space-x-4"> <a href="/" target="_self" class="text-gray-400 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"> Portfolio</div> </a> <a href="/blog/" target="_self" class="text-gray-700 dark:text-[#b3b3b3] underline underline-offset-4 decoration-2 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"> Blog</div> </a> <a href="/_app/immutable/assets/resume.69c7a203.pdf" target="_blank" class="text-gray-400 dark:text-[#b3b3b3] hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium" aria-current="page"><div class="flex flex-row items-center"><svg class="svelte-fa mr-2 svelte-1cj2gr0" style="height:1em;font-size:.75em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> Resume</div> </a>  <button id="theme-toggle" type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-full text-sm p-2.5"><svg id="theme-toggle-dark-icon" class="svelte-fa hidden svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 384 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(192 256)" transform-origin="96 0"><g transform="translate(0,0) scale(1,1)"><path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" fill="gray" transform="translate(-192 -256)"></path></g></g></svg> <svg id="theme-toggle-light-icon" class="svelte-fa hidden svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z" fill="yellow" transform="translate(-256 -256)"></path></g></g></svg></button></div></div></div></div></div>  <div class="sm:hidden hidden" id="mobile-menu"><div class="space-y-1 px-2 pb-3 pt-2"><a href="/" target="_self" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-400"><div class="flex flex-row items-center"> Portfolio</div> </a><a href="/blog/" target="_self" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-700"><div class="flex flex-row items-center"> Blog</div> </a><a href="/_app/immutable/assets/resume.69c7a203.pdf" target="_blank" class="text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium text-gray-400"><div class="flex flex-row items-center"><svg class="svelte-fa mr-2 svelte-1cj2gr0" style="height:1em;font-size:.75em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> Resume</div> </a></div></div></nav> <div class="container mx-auto m-4 overscroll-none justify-center items-center flex relative"> <div class="flex flex-col max-w-2xl max-[600px]:p-10"><h1 class="text-4xl font-bold text-gray-900 place-self-start dark:text-neutral-100">How I created my own Programming Language</h1> <p class="text-xl my-1 text-neutral-500">In this article, I go over the topics on how to build your own programming language.</p> <div class="flex flex-row"><small class="text-neutral-500 dark:text-neutral-600 my-1">Dec 18, 2022</small> <span class="text-neutral-700 dark:text-neutral-700 mx-1" data-svelte-h="svelte-10lih0p">·</span> <small class="text-neutral-500 dark:text-neutral-600 my-1">5 mins</small></div> <div class="flex flex-col place-items-center"><img class="object-cover rounded-lg py-1" src="https://craftinginterpreters.com/image/a-map-of-the-territory/mountain.png"> </div> <div class=""><!-- HTML_TAG_START --><h3 id="introduction" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Introduction<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#introduction">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Programming languages are nothing but programs written by other programmers for you to program your programs. These days developers take programming language for granted, not everyone are interested in understanding the complexity that goes behind a simple &quot;Hello world&quot; program until they run into issue for their complex program where they need to start digging into the Source code program to find out why there is a weird Null Pointer Exception or memory leak happening in the code.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Early day programmers did not have fancy IDEs, intellisense software that could identify errors before even you run the program. They used to write their program on a physical punch card and then run them through the machines (or PC) that would take several hours to execute. There would be an operator who would work on creating and processing these cards on a machine. </p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Designing a programming language is similar to how you would program a simple code for your web API or some automation. The main task that Programing language does is, it allows you to write some instruction and then convert it to form understood by your machine. There are various ways by which you can design your own language. In this article, I will talk about how I designed 2 of my own programming language using a concept of Tree Walking Interpreter.</p>
<h3 id="the-beginning" class="group text-xl font-bold  mt-4 dark:text-neutral-200">The Beginning<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#the-beginning">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Before starting with the program design you&#39;d need to decide on what are the programming language constructs that you want to support in the language. Almost all language have these basics covered when it comes to language implementation:</p>
<ol class=" space-y-1 list-decimal list-inside" >
<li class=" text-neutral-700 dark:text-neutral-300">Variable Declarations</li>
<li class=" text-neutral-700 dark:text-neutral-300">Expression evaluation statements like mathematical operation, function call, object declaration etc. </li>
<li class=" text-neutral-700 dark:text-neutral-300">Control Statements like if/else, for, while, etc. </li>
<li class=" text-neutral-700 dark:text-neutral-300">Object Oriented Programming (OOP)</li>
<li class=" text-neutral-700 dark:text-neutral-300">Primitive data structures like Array, Maps/Hash, Set etc.</li>
<li class=" text-neutral-700 dark:text-neutral-300">Standard Library for Input/Output Processing, Handling File System reads etc.</li>
</ol>
<h4 id="tokenization" class="group text-lg font-bold  mt-4 dark:text-neutral-200">Tokenization<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#tokenization">#</a></h4>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Based on these factors, you can come up with how the syntax of your language should look like and start working on the first stage of compiler or interpreter design called <em>Tokenizer</em>. Tokenization is the first process for any programming language that wants to include source-code processing engine whose responsibility is to take in source code and generate Tokens. </p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Tokens in C programming language is as simple as &quot;if&quot;, &quot;int&quot;, &quot;printf&quot;, &quot;(&quot;, &quot;)&quot; etc. Tokenizer can generate tokens with following information:</p>
<ol class=" space-y-1 list-decimal list-inside" >
<li class=" text-neutral-700 dark:text-neutral-300">Type of Token (Function, Keyword, Identifier, etc)</li>
<li class=" text-neutral-700 dark:text-neutral-300">Line number of the Token (Useful when showing errors)</li>
<li class=" text-neutral-700 dark:text-neutral-300">Literal value of the Token (Raw string content of text, &quot;if&quot;, &quot;variable_name&quot; etc)</li>
</ol>
<h4 id="parsing" class="group text-lg font-bold  mt-4 dark:text-neutral-200">Parsing<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#parsing">#</a></h4>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">In the second stage, we read the tokens generated by the tokenizer and try to build a Syntax tree. This tree contains expressions and statements arranged in well, Tree structure. The tree is build up in such a way that it satisfies the grammar rules for our language. If a user has written a bad code which is syntactically wrong then, at this stage we can alert the user as whatever the rule user has written it breaks the grammar rule. Most compilers would stop from building executables until your code is  syntactically correct. In Interpreters, we basically alert user about their code issues and go to a recovery mode where we still continue parsing for more errors.</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Following is a example code for my programming language LoxPy: </p>
<div class="code-block"><pre class="language-javascript"><code><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300">This generates following syntax tree in LoxPy:</p>
<div class="code-block"><pre class="language-javascript"><code>    Var<span class="token punctuation">.</span><span class="token function">Statement</span><span class="token punctuation">(</span>
        name <span class="token operator">=</span> <span class="token function">Identifier</span><span class="token punctuation">(</span>
            name <span class="token operator">=</span> <span class="token string">"value"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        value <span class="token operator">=</span> <span class="token function">Expression</span><span class="token punctuation">(</span>
            value <span class="token operator">=</span> <span class="token function">Add</span> <span class="token punctuation">(</span>
                left <span class="token operator">=</span> <span class="token function">Value</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                right <span class="token operator">=</span> <span class="token function">Value</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code></pre></div><p class="mt-4 text-neutral-700 dark:text-neutral-300">This completes the frontend of the programming language. The reason its called frontend because all the rules/syntax for your language is handled in these stages.</p>
<h3 id="optimization" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Optimization<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#optimization">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Program performance is critical when it comes to building faster applications. Early day systems were not as powerful as a personal computers or mobiles that we have today. Programs would take hours or days sometimes to evaluate. Programmers had to work with limited memory for writing their complete program and use some hacks to optimize their code. </p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">For my programming language LoxPy and Talion, I haven&#39;t used any of the optimization techniques. The AST form is the intermediate representation (IR) for my languages. You can either take AST and optimize it to generate another IR or directly convert AST to a machine level program that can be optimized. There are different <a href="https://en.wikipedia.org/wiki/Optimizing_compiler" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">strategies</a> to perform code optimization like <a href="https://en.wikipedia.org/wiki/Dead-code_elimination" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Dead Code Elimination</a>, <a href="https://en.wikipedia.org/wiki/Loop_optimization" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Loop Optimization</a>, Speed, Resources etc.</p>
<h3 id="evaluation" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Evaluation<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#evaluation">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">At this stage you need to make decision on how you want to run the program. There are 2 ways you can go about designing this for your programming language:</p>
<ol class=" space-y-1 list-decimal list-inside" >
<li class=" text-neutral-700 dark:text-neutral-300"><p class="mt-4 text-neutral-700 dark:text-neutral-300">Compile: You can take the AST and compile them to a machine executable program. Machine can be your direct system (C, C++, Go) or another virtual machine (Python, Java). The executable file is also termed as byte code.</p>
</li>
<li class=" text-neutral-700 dark:text-neutral-300"><p class="mt-4 text-neutral-700 dark:text-neutral-300">Interpret: You can directly start evaluating AST in an underlying backend program. Python is an example for both compiled and interpreted programming language. Here the python code is first compiled to byte code and then interpreted using a Python Virtual Machine.</p>
</li>
</ol>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">One of the easiest implementation of a interpreter is Tree Walking Interpreter. AST nodes are evaluated node-by-node at each instruction levels. </p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300"><img src="https://miro.medium.com/max/720/0*WP1KIDFEgmt7bXHU.webp" alt="Tree Walking Interpreter stages: https://imantung.medium.com/tree-walk-interpreter-b33fe5c19a63"></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Early implementation of languages like Ruby, R  had this technique of evaluation. As each node reference has to be stored in memory, this used to be expensive. If you want to introduce closures, classes to your language then you need to start handling resolution based environment handling (addressing identifier, function, class names) which again lead to storing a complete copy or reference of set of variables in body of these objects. </p>
<h3 id="links" class="group text-xl font-bold  mt-4 dark:text-neutral-200">Links<a class="mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700" href="#links">#</a></h3>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">Crafting Interpreters: <a href="https://craftinginterpreters.com" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Want to build your own language?</a></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">My programming languages:</p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">LoxPy: <a href="https://github.com/rahuldshetty/loxpy" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Github</a></p>
<p class="mt-4 text-neutral-700 dark:text-neutral-300">talion: <a href="https://rahuldshetty.github.io/talion/" class="underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200">Github</a></p>
<!-- HTML_TAG_END --></div></div> </div> <footer class="text-center lg:text-left mt-auto"><div class="p-4 text-xs text-center text-neutral-400 dark:text-neutral-200">© 2023 <a class="text-xs dark:text-neutral-200 text-neutral-400 underline underline-offset-4" href="/" data-svelte-h="svelte-1h1d2v0">rds</a></div></footer> 
			
			<script>
				{
					__sveltekit_u39v4g = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,{"type":"data","data":{post:{slug:"how-i-created-my-own-programming-language",date:"2022-12-18T00:00:00+05:30",date_formatted:"Dec 18, 2022",title:"How I created my own Programming Language",description:"In this article, I go over the topics on how to build your own programming language.",metadata:{title:"How I created my own Programming Language",date:"2022-12-18T00:00:00+05:30",draft:"false",description:"In this article, I go over the topics on how to build your own programming language.",author:"Me",showToc:false,cover:"https://craftinginterpreters.com/image/a-map-of-the-territory/mountain.png",readingTime:"5",toc:[{content:"Introduction",slug:"introduction",lvl:3,i:0,seen:0},{content:"The Beginning",slug:"the-beginning",lvl:3,i:1,seen:0},{content:"Tokenization",slug:"tokenization",lvl:4,i:2,seen:0},{content:"Parsing",slug:"parsing",lvl:4,i:3,seen:0},{content:"Optimization",slug:"optimization",lvl:3,i:4,seen:0},{content:"Evaluation",slug:"evaluation",lvl:3,i:5,seen:0},{content:"Links",slug:"links",lvl:3,i:6,seen:0}]},file:"old\\my-first-programming-language.md",content:"\u003Ch3 id=\"introduction\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Introduction\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#introduction\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Programming languages are nothing but programs written by other programmers for you to program your programs. These days developers take programming language for granted, not everyone are interested in understanding the complexity that goes behind a simple &quot;Hello world&quot; program until they run into issue for their complex program where they need to start digging into the Source code program to find out why there is a weird Null Pointer Exception or memory leak happening in the code.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Early day programmers did not have fancy IDEs, intellisense software that could identify errors before even you run the program. They used to write their program on a physical punch card and then run them through the machines (or PC) that would take several hours to execute. There would be an operator who would work on creating and processing these cards on a machine. \u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Designing a programming language is similar to how you would program a simple code for your web API or some automation. The main task that Programing language does is, it allows you to write some instruction and then convert it to form understood by your machine. There are various ways by which you can design your own language. In this article, I will talk about how I designed 2 of my own programming language using a concept of Tree Walking Interpreter.\u003C/p>\n\u003Ch3 id=\"the-beginning\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">The Beginning\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#the-beginning\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Before starting with the program design you&#39;d need to decide on what are the programming language constructs that you want to support in the language. Almost all language have these basics covered when it comes to language implementation:\u003C/p>\n\u003Col class=\" space-y-1 list-decimal list-inside\" >\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Variable Declarations\u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Expression evaluation statements like mathematical operation, function call, object declaration etc. \u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Control Statements like if/else, for, while, etc. \u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Object Oriented Programming (OOP)\u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Primitive data structures like Array, Maps/Hash, Set etc.\u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Standard Library for Input/Output Processing, Handling File System reads etc.\u003C/li>\n\u003C/ol>\n\u003Ch4 id=\"tokenization\" class=\"group text-lg font-bold  mt-4 dark:text-neutral-200\">Tokenization\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#tokenization\">#\u003C/a>\u003C/h4>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Based on these factors, you can come up with how the syntax of your language should look like and start working on the first stage of compiler or interpreter design called \u003Cem>Tokenizer\u003C/em>. Tokenization is the first process for any programming language that wants to include source-code processing engine whose responsibility is to take in source code and generate Tokens. \u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Tokens in C programming language is as simple as &quot;if&quot;, &quot;int&quot;, &quot;printf&quot;, &quot;(&quot;, &quot;)&quot; etc. Tokenizer can generate tokens with following information:\u003C/p>\n\u003Col class=\" space-y-1 list-decimal list-inside\" >\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Type of Token (Function, Keyword, Identifier, etc)\u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Line number of the Token (Useful when showing errors)\u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">Literal value of the Token (Raw string content of text, &quot;if&quot;, &quot;variable_name&quot; etc)\u003C/li>\n\u003C/ol>\n\u003Ch4 id=\"parsing\" class=\"group text-lg font-bold  mt-4 dark:text-neutral-200\">Parsing\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#parsing\">#\u003C/a>\u003C/h4>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">In the second stage, we read the tokens generated by the tokenizer and try to build a Syntax tree. This tree contains expressions and statements arranged in well, Tree structure. The tree is build up in such a way that it satisfies the grammar rules for our language. If a user has written a bad code which is syntactically wrong then, at this stage we can alert the user as whatever the rule user has written it breaks the grammar rule. Most compilers would stop from building executables until your code is  syntactically correct. In Interpreters, we basically alert user about their code issues and go to a recovery mode where we still continue parsing for more errors.\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Following is a example code for my programming language LoxPy: \u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-javascript\">\u003Ccode>\u003Cspan class=\"token keyword\">var\u003C/span> value \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">2\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">This generates following syntax tree in LoxPy:\u003C/p>\n\u003Cdiv class=\"code-block\">\u003Cpre class=\"language-javascript\">\u003Ccode>    Var\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Statement\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n        name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Identifier\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n            name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"value\"\u003C/span>\n        \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        value \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Expression\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n            value \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Add\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\n                left \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Value\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                right \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Value\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">)\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">This completes the frontend of the programming language. The reason its called frontend because all the rules/syntax for your language is handled in these stages.\u003C/p>\n\u003Ch3 id=\"optimization\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Optimization\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#optimization\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Program performance is critical when it comes to building faster applications. Early day systems were not as powerful as a personal computers or mobiles that we have today. Programs would take hours or days sometimes to evaluate. Programmers had to work with limited memory for writing their complete program and use some hacks to optimize their code. \u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">For my programming language LoxPy and Talion, I haven&#39;t used any of the optimization techniques. The AST form is the intermediate representation (IR) for my languages. You can either take AST and optimize it to generate another IR or directly convert AST to a machine level program that can be optimized. There are different \u003Ca href=\"https://en.wikipedia.org/wiki/Optimizing_compiler\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">strategies\u003C/a> to perform code optimization like \u003Ca href=\"https://en.wikipedia.org/wiki/Dead-code_elimination\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Dead Code Elimination\u003C/a>, \u003Ca href=\"https://en.wikipedia.org/wiki/Loop_optimization\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Loop Optimization\u003C/a>, Speed, Resources etc.\u003C/p>\n\u003Ch3 id=\"evaluation\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Evaluation\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#evaluation\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">At this stage you need to make decision on how you want to run the program. There are 2 ways you can go about designing this for your programming language:\u003C/p>\n\u003Col class=\" space-y-1 list-decimal list-inside\" >\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Compile: You can take the AST and compile them to a machine executable program. Machine can be your direct system (C, C++, Go) or another virtual machine (Python, Java). The executable file is also termed as byte code.\u003C/p>\n\u003C/li>\n\u003Cli class=\" text-neutral-700 dark:text-neutral-300\">\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Interpret: You can directly start evaluating AST in an underlying backend program. Python is an example for both compiled and interpreted programming language. Here the python code is first compiled to byte code and then interpreted using a Python Virtual Machine.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">One of the easiest implementation of a interpreter is Tree Walking Interpreter. AST nodes are evaluated node-by-node at each instruction levels. \u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">\u003Cimg src=\"https://miro.medium.com/max/720/0*WP1KIDFEgmt7bXHU.webp\" alt=\"Tree Walking Interpreter stages: https://imantung.medium.com/tree-walk-interpreter-b33fe5c19a63\">\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Early implementation of languages like Ruby, R  had this technique of evaluation. As each node reference has to be stored in memory, this used to be expensive. If you want to introduce closures, classes to your language then you need to start handling resolution based environment handling (addressing identifier, function, class names) which again lead to storing a complete copy or reference of set of variables in body of these objects. \u003C/p>\n\u003Ch3 id=\"links\" class=\"group text-xl font-bold  mt-4 dark:text-neutral-200\">Links\u003Ca class=\"mx-1 text-transparent group-hover:underline group-hover:underline-offset-8 group-hover:text-gray-700\" href=\"#links\">#\u003C/a>\u003C/h3>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">Crafting Interpreters: \u003Ca href=\"https://craftinginterpreters.com\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Want to build your own language?\u003C/a>\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">My programming languages:\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">LoxPy: \u003Ca href=\"https://github.com/rahuldshetty/loxpy\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Github\u003C/a>\u003C/p>\n\u003Cp class=\"mt-4 text-neutral-700 dark:text-neutral-300\">talion: \u003Ca href=\"https://rahuldshetty.github.io/talion/\" class=\"underline underline-offset-8 md:underline-offset-4 text-sky-800 dark:text-sky-200\">Github\u003C/a>\u003C/p>\n"}},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../../_app/immutable/entry/start.96169547.js"),
						import("../../_app/immutable/entry/app.4662d2c5.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
